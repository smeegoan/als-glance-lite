(function(n){function r(n){return n}function k(n,t){for(var i=0,r=t.length,u=new Array(r);i<r;++i)u[i]=n[t[i]];return u}function d(n){function i(t,i,r,u){while(r<u){var f=r+u>>>1;n(t[f])<i?r=f+1:u=f}return r}function t(t,i,r,u){while(r<u){var f=r+u>>>1;i<n(t[f])?u=f:r=f+1}return r}return t.right=t,t.left=i,t}function e(n){function t(n,t,r){for(var u=r-t,f=(u>>>1)+1;--f>0;)i(n,f,u,t);return n}function r(n,t,r){for(var u=r-t,f;--u>0;)f=n[t],n[t]=n[t+u],n[t+u]=f,i(n,1,u,t);return n}function i(t,i,r,u){for(var e=t[--u+i],o=n(e),f;(f=i<<1)<=r;){if(f<r&&n(t[u+f])>n(t[u+f+1])&&f++,o<=n(t[u+f]))break;t[u+i]=t[u+f];i=f}t[u+i]=e}return t.sort=r,t}function h(n){function i(i,r,u,f){for(var e=new Array(f=Math.min(u-r,f)),s,c,h,o=0;o<f;++o)e[o]=i[r++];if(t(e,0,f),r<u){s=n(e[0]);do(c=n(h=i[r])>s)&&(e[0]=h,s=n(t(e,0,f)[0]));while(++r<u)}return e}var t=e(n);return i}function c(n){function t(t,i,r){for(var f=i+1;f<r;++f){for(var u=f,e=t[f],o=n(e);u>i&&n(t[u-1])>o;--u)t[u]=t[u-1];t[u]=e}return t}return t}function l(n){function t(n,t,u){return(u-t<st?i:r)(n,t,u)}function r(i,r,u){var rt=(u-r)/6|0,ft=r+rt,et=u-1-rt,ut=r+u-1>>1,ot=ut-rt,st=ut+rt,tt=i[ft],g=n(tt),w=i[ot],c=n(w),b=i[ut],v=n(b),k=i[st],l=n(k),it=i[et],nt=n(it),f,ct,s,h,p,y;g>c&&(f=tt,tt=w,w=f,f=g,g=c,c=f);l>nt&&(f=k,k=it,it=f,f=l,l=nt,nt=f);g>v&&(f=tt,tt=b,b=f,f=g,g=v,v=f);c>v&&(f=w,w=b,b=f,f=c,c=v,v=f);g>l&&(f=tt,tt=k,k=f,f=g,g=l,l=f);v>l&&(f=b,b=k,k=f,f=v,v=l,l=f);c>nt&&(f=w,w=it,it=f,f=c,c=nt,nt=f);c>v&&(f=w,w=b,b=f,f=c,c=v,v=f);l>nt&&(f=k,k=it,it=f,f=l,l=nt,nt=f);var lt=w,a=c,at=k,d=l;i[ft]=tt;i[ot]=i[r];i[ut]=b;i[st]=i[u-1];i[et]=it;var o=r+1,e=u-2,ht=a<=d&&a>=d;if(ht){for(s=o;s<=e;++s)if(h=i[s],p=n(h),p<a)s!==o&&(i[s]=i[o],i[o]=h),++o;else if(p>a)for(;;)if(y=n(i[e]),y>a){e--;continue}else if(y<a){i[s]=i[o];i[o++]=i[e];i[e--]=h;break}else{i[s]=i[e];i[e--]=h;break}}else for(s=o;s<=e;s++)if(h=i[s],p=n(h),p<a)s!==o&&(i[s]=i[o],i[o]=h),++o;else if(p>d)for(;;)if(y=n(i[e]),y>d){if(e--,e<s)break;continue}else{y<a?(i[s]=i[o],i[o++]=i[e],i[e--]=h):(i[s]=i[e],i[e--]=h);break}if(i[r]=i[o-1],i[o-1]=lt,i[u-1]=i[e+1],i[e+1]=at,t(i,r,o-1),t(i,e+2,u),ht)return i;if(o<ft&&e>et){while((ct=n(i[o]))<=a&&ct>=a)++o;while((y=n(i[e]))<=d&&y>=d)--e;for(s=o;s<=e;s++)if(h=i[s],p=n(h),p<=a&&p>=a)s!==o&&(i[s]=i[o],i[o]=h),o++;else if(p<=d&&p>=d)for(;;)if(y=n(i[e]),y<=d&&y>=d){if(e--,e<s)break;continue}else{y<a?(i[s]=i[o],i[o++]=i[e],i[e--]=h):(i[s]=i[e],i[e--]=h);break}}return t(i,o,e+1)}var i=c(n);return t}function w(n){for(var t=new Array(n),i=-1;++i<n;)t[i]=0;return t}function ht(n,t){for(var i=n.length;i<t;)n[i++]=0;return n}function ct(n,t){if(t>32)throw new Error("invalid array width!");return n}function lt(n,t){return function(i){var r=i.length;return[n.left(i,t,0,r),n.right(i,t,0,r)]}}function at(n,t){var i=t[0],r=t[1];return function(t){var u=t.length;return[n.left(t,i,0,u),n.left(t,r,0,u)]}}function b(n){return[0,n.length]}function t(){return null}function s(){return 0}function rt(n){return n+1}function ut(n){return n-1}function ft(n){return function(t,i){return t+ +n(i)}}function et(n){return function(t,i){return t-n(i)}}function i(){function tt(t){var u=i,r=t.length;return r&&(c=c.concat(t),n=p(n,i+=r),y.forEach(function(n){n(t,u,r)})),nt}function it(){for(var o,f=u(i,i),e=[],t=0,r=0;t<i;++t)n[t]?f[t]=r++:e.push(t);for(v.forEach(function(n){n(0,[],e)}),w.forEach(function(n){n(f)}),t=0,r=0;t<i;++t)(o=n[t])&&(t!==r&&(n[r]=o,c[r]=c[t]),++r);for(c.length=r;i>r;)n[--i]=0}function st(a){function gt(t,r,f){ct=t.map(a);pt=li(vt(f),0,f);ct=k(ct,pt);var h=wt(ct),l=h[0],v=h[1],e;if(kt)for(e=0;e<f;++e)kt(ct[e],e)||(n[pt[e]+r]|=it);else{for(e=0;e<l;++e)n[pt[e]+r]|=it;for(e=v;e<f;++e)n[pt[e]+r]|=it}if(!r){tt=ct;nt=pt;st=l;ht=v;return}var c=tt,y=nt,o=0,s=0;for(tt=new Array(i),nt=u(i,i),e=0;o<r&&s<f;++e)c[o]<ct[s]?(tt[e]=c[o],nt[e]=y[o++]):(tt[e]=ct[s],nt[e]=pt[s++]+r);for(;o<r;++o,++e)tt[e]=c[o],nt[e]=y[o];for(;s<f;++s,++e)tt[e]=ct[s],nt[e]=pt[s]+r;h=wt(tt);st=h[0];ht=h[1]}function ni(n,t,i){dt.forEach(function(n){n(ct,pt,t,i)});ct=pt=null}function ri(t){for(var e,f,u=0,r=0;u<i;++u)n[e=nt[u]]&&(u!==r&&(tt[r]=tt[u]),nt[r]=t[e],++r);for(tt.length=r;r<i;)nt[r++]=0;f=wt(tt);st=f[0];ht=f[1]}function ti(t){var r=t[0],u=t[1],i,f,e,o,s;if(kt)return kt=null,si(function(n,t){return r<=t&&t<u}),st=r,ht=u,bt;if(o=[],s=[],r<st)for(i=r,f=Math.min(st,u);i<f;++i)n[e=nt[i]]^=it,o.push(e);else if(r>st)for(i=st,f=Math.min(r,ht);i<f;++i)n[e=nt[i]]^=it,s.push(e);if(u>ht)for(i=Math.max(r,ht),f=u;i<f;++i)n[e=nt[i]]^=it,o.push(e);else if(u<ht)for(i=Math.max(st,u),f=ht;i<f;++i)n[e=nt[i]]^=it,s.push(e);return st=r,ht=u,v.forEach(function(n){n(it,o,s)}),bt}function ai(n){return n==null?ei():Array.isArray(n)?fi(n):typeof n=="function"?oi(n):ui(n)}function ui(n){return ti((wt=lt(f,n))(tt))}function fi(n){return ti((wt=at(f,n))(tt))}function ei(){return ti((wt=b)(tt))}function oi(n){return wt=b,si(kt=n),st=0,ht=i,bt}function si(t){for(var u,f,e=[],o=[],r=0;r<i;++r)n[u=nt[r]]&it^!(f=t(tt[r],r))&&(f?(n[u]&=yt,e.push(u)):(n[u]|=it,o.push(u)));v.forEach(function(n){n(it,e,o)})}function vi(t){for(var i=[],r=ht,u;--r>=st&&t>0;)n[u=nt[r]]||(i.push(c[u]),--t);return i}function yi(t){for(var r=[],i=st,u;i<ht&&t>0;)n[u=nt[i]]||(r.push(c[u]),--t),i++;return r}function hi(f){function vt(r,e,s,h){function bt(){++l===ct&&(it=o(it,ht<<=1),y=o(y,ht),ct=ot(ht))}var st=a,it=u(l,ct),wt=d,at=lt,vt=l,w=0,nt=0,rt,ut,et,tt,ft,pt;for(g&&(wt=at=t),a=new Array(l),l=0,y=vt>1?p(y,i):u(i,ct),vt&&(et=(ut=st[0]).key);nt<h&&!((tt=f(r[nt]))>=tt);)++nt;while(nt<h){for(ut&&et<=tt?(ft=ut,pt=et,it[w]=l,(ut=st[++w])&&(et=ut.key)):(ft={key:tt,value:at()},pt=tt),a[l]=ft;!(tt>pt);){if(y[rt=e[nt]+s]=l,n[rt]&yt||(ft.value=wt(ft.value,c[rt])),++nt>=h)break;tt=f(r[nt])}bt()}while(w<vt)a[it[w]=l]=st[w++],bt();if(l>w)for(w=0;w<s;++w)y[w]=it[y[w]];rt=v.indexOf(b);l>1?(b=ni,k=ri):(!l&&kt&&(l=1,a=[{key:null,value:at()}]),l===1?(b=ti,k=ui):(b=t,k=t),y=null);v[rt]=b}function gt(){var e,r;if(l>1){var o=l,s=a,f=u(o,o);for(r=0,e=0;r<i;++r)n[r]&&(f[y[e]=y[r]]=1,++e);for(a=[],l=0,r=0;r<o;++r)f[r]&&(f[r]=l++,a.push(s[r]));if(l>1)for(r=0;r<e;++r)y[r]=f[y[r]];else y=null;v[v.indexOf(b)]=l>1?(k=ri,b=ni):l===1?(k=ui,b=ti):k=b=t}else if(l===1){if(kt)return;for(r=0;r<i;++r)if(n[r])return;a=[];l=0;v[v.indexOf(b)]=b=k=t}}function ni(t,i,r){if(t!==it&&!g){for(var f,e,u=0,o=i.length;u<o;++u)n[f=i[u]]&yt||(e=a[y[f]],e.value=d(e.value,c[f]));for(u=0,o=r.length;u<o;++u)(n[f=r[u]]&yt)===t&&(e=a[y[f]],e.value=at(e.value,c[f]))}}function ti(t,i,r){if(t!==it&&!g){for(var f,o=a[0],u=0,e=i.length;u<e;++u)n[f=i[u]]&yt||(o.value=d(o.value,c[f]));for(u=0,e=r.length;u<e;++u)(n[f=r[u]]&yt)===t&&(o.value=at(o.value,c[f]))}}function ri(){for(var r,t=0;t<l;++t)a[t].value=lt();for(t=0;t<i;++t)n[t]&yt||(r=a[y[t]],r.value=d(r.value,c[t]))}function ui(){var t,r=a[0];for(r.value=lt(),t=0;t<i;++t)n[t]&yt||(r.value=d(r.value,c[t]))}function fi(){return g&&(k(),g=!1),a}function hi(n){var t=wt(fi(),0,a.length,n);return bt.sort(t,0,t.length)}function pt(n,t,i){return d=n,at=t,lt=i,g=!0,st}function ei(){return pt(rt,ut,s)}function ci(n){return pt(ft(n),et(n),s)}function oi(n){function t(t){return n(t.value)}return wt=h(t),bt=e(t),st}function li(){return oi(r)}function ai(){return l}function si(){var n=v.indexOf(b);return n>=0&&v.splice(n,1),n=dt.indexOf(vt),n>=0&&dt.splice(n,1),n=w.indexOf(gt),n>=0&&w.splice(n,1),st}var st={top:hi,all:fi,reduce:pt,reduceCount:ei,reduceSum:ci,order:oi,orderNatural:li,size:ai,dispose:si,remove:si};ii.push(st);var a,y,ht=8,ct=ot(ht),l=0,wt,bt,d,at,lt,b=t,k=t,g=!0,kt=f===t;return arguments.length<1&&(f=r),v.push(b),dt.push(vt),w.push(gt),vt(tt,nt,0,i),ei().orderNatural()}function pi(){var n=hi(t),i=n.all;return delete n.all,delete n.top,delete n.order,delete n.orderNatural,delete n.size,n.value=function(){return i()[0].value},n}function ci(){ii.forEach(function(n){n.dispose()});var t=y.indexOf(gt);for(t>=0&&y.splice(t,1),t=y.indexOf(ni),t>=0&&y.splice(t,1),t=w.indexOf(ri),t>=0&&w.splice(t,1),t=0;t<i;++t)n[t]&=yt;return d&=yt,bt}var bt={filter:ai,filterExact:ui,filterRange:fi,filterFunction:oi,filterAll:ei,top:vi,bottom:yi,group:hi,groupAll:pi,dispose:ci,remove:ci},it=~d&-~d,yt=~it,tt,nt,ct,pt,li=l(function(n){return ct[n]}),wt=b,kt,dt=[],ii=[],st=0,ht=0;return y.unshift(gt),y.push(ni),w.push(ri),d|=it,(g>=32?!it:d&(1<<g)-1)&&(n=o(n,g<<=1)),gt(c,0,i),ni(c,0,i),bt}function ht(){function f(f,e){var o;if(!r)for(o=e;o<i;++o)n[o]||(t=u(t,c[o]))}function a(i,f,e){var o,s,l;if(!r){for(o=0,l=f.length;o<l;++o)n[s=f[o]]||(t=u(t,c[s]));for(o=0,l=e.length;o<l;++o)n[s=e[o]]===i&&(t=h(t,c[s]))}}function b(){var r;for(t=l(),r=0;r<i;++r)n[r]||(t=u(t,c[r]))}function e(n,t,i){return u=n,h=t,l=i,r=!0,o}function p(){return e(rt,ut,s)}function k(n){return e(ft(n),et(n),s)}function d(){return r&&(b(),r=!1),t}function w(){var n=v.indexOf(a);return n>=0&&v.splice(n),n=y.indexOf(f),n>=0&&y.splice(n),o}var o={reduce:e,reduceCount:p,reduceSum:k,value:d,dispose:w,remove:w},t,u,h,l,r=!0;return v.push(a),y.push(f),f(c,0,i),p()}function ct(){return i}var nt={add:tt,remove:it,dimension:st,groupAll:ht,size:ct},c=[],i=0,d=0,g=8,n=a(0),v=[],y=[],w=[];return arguments.length?tt(arguments[0]):nt}function u(n,t){return(t<257?a:t<65537?v:y)(n)}function vt(n){for(var i=u(n,n),t=-1;++t<n;)i[t]=t;return i}function ot(n){return n===8?256:n===16?65536:4294967296}var f,g,nt,tt,it;i.version="1.3.9";i.permute=k;f=i.bisect=d(r);f.by=d;g=i.heap=e(r);g.by=e;nt=i.heapselect=h(r);nt.by=h;tt=i.insertionsort=c(r);tt.by=c;it=i.quicksort=l(r);it.by=l;var st=32,a=w,v=w,y=w,p=ht,o=ct;typeof Uint8Array!="undefined"&&(a=function(n){return new Uint8Array(n)},v=function(n){return new Uint16Array(n)},y=function(n){return new Uint32Array(n)},p=function(n,t){if(n.length>=t)return n;var i=new n.constructor(t);return i.set(n),i},o=function(n,t){var i;switch(t){case 16:i=v(n.length);break;case 32:i=y(n.length);break;default:throw new Error("invalid array width!");}return i.set(n),i});n.crossfilter=i})(typeof exports!="undefined"&&exports||this);
//# sourceMappingURL=crossfilter.min.js.map
