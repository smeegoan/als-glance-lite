/**
* @license
*
* Regression.JS - Regression functions for javascript
* http://tom-alexander.github.com/regression-js/
* 
* copyright(c) 2013 Tom Alexander
* Licensed under the MIT license.
*
**/
(function(){"use strict";var t=function(n,t){for(var u=0,i=0,r=0,e=0,o=0,f=n.length-1,s=new Array(t),u=0;u<f;u++){for(e=u,i=u+1;i<f;i++)Math.abs(n[u][i])>Math.abs(n[u][e])&&(e=i);for(r=u;r<f+1;r++)o=n[r][u],n[r][u]=n[r][e],n[r][e]=o;for(i=u+1;i<f;i++)for(r=f;r>=u;r--)n[r][i]-=n[r][u]*n[u][i]/n[u][u]}for(i=f-1;i>=0;i--){for(o=0,r=i+1;r<f;r++)o+=n[r][i]*s[r];s[i]=(n[f][i]-o)/n[i][i]}return s},i={linear:function(n){for(var i=[0,0,0,0,0],t=0,e=[],r,f,u,o,s,h;t<n.length;t++)n[t][1]!=null&&(i[0]+=n[t][0],i[1]+=n[t][1],i[2]+=n[t][0]*n[t][0],i[3]+=n[t][0]*n[t][1],i[4]+=n[t][1]*n[t][1]);for(r=(t*i[3]-i[0]*i[1])/(t*i[2]-i[0]*i[0]),f=i[1]/t-r*i[0]/t,u=0,o=n.length;u<o;u++)s=[n[u][0],n[u][0]*r+f],e.push(s);return h="y = "+Math.round(r*100)/100+"x + "+Math.round(f*100)/100,{equation:[r,f],points:e,string:h}},exponential:function(n){for(var t=[0,0,0,0,0,0],i=0,o=[],r,h,c,u=n.length;i<u;i++)n[i][1]!=null&&(t[0]+=n[i][0],t[1]+=n[i][1],t[2]+=n[i][0]*n[i][0]*n[i][1],t[3]+=n[i][1]*Math.log(n[i][1]),t[4]+=n[i][0]*n[i][1]*Math.log(n[i][1]),t[5]+=n[i][0]*n[i][1]);var s=t[1]*t[2]-t[5]*t[5],f=Math.pow(Math.E,(t[2]*t[3]-t[5]*t[4])/s),e=(t[1]*t[4]-t[5]*t[3])/s;for(r=0,u=n.length;r<u;r++)h=[n[r][0],f*Math.pow(Math.E,e*n[r][0])],o.push(h);return c="y = "+Math.round(f*100)/100+"e^("+Math.round(e*100)/100+"x)",{equation:[f,e],points:o,string:c}},logarithmic:function(n){for(var t=[0,0,0,0],i=0,o=[],r,f,u,s,h,e=n.length;i<e;i++)n[i][1]!=null&&(t[0]+=Math.log(n[i][0]),t[1]+=n[i][1]*Math.log(n[i][0]),t[2]+=n[i][1],t[3]+=Math.pow(Math.log(n[i][0]),2));for(r=(i*t[1]-t[2]*t[0])/(i*t[3]-t[0]*t[0]),f=(t[2]-r*t[0])/i,u=0,e=n.length;u<e;u++)s=[n[u][0],f+r*Math.log(n[u][0])],o.push(s);return h="y = "+Math.round(f*100)/100+" + "+Math.round(r*100)/100+" ln(x)",{equation:[f,r],points:o,string:h}},power:function(n){for(var t=[0,0,0,0],i=0,o=[],r,f,u,s,h,e=n.length;i<e;i++)n[i][1]!=null&&(t[0]+=Math.log(n[i][0]),t[1]+=Math.log(n[i][1])*Math.log(n[i][0]),t[2]+=Math.log(n[i][1]),t[3]+=Math.pow(Math.log(n[i][0]),2));for(r=(i*t[1]-t[2]*t[0])/(i*t[3]-t[0]*t[0]),f=Math.pow(Math.E,(t[2]-r*t[0])/i),u=0,e=n.length;u<e;u++)s=[n[u][0],f*Math.pow(n[u][0],r)],o.push(s);return h="y = "+Math.round(f*100)/100+"x^"+Math.round(r*100)/100,{equation:[f,r],points:o,string:h}},polynomial:function(n,i){var v,s,u,f,e,y,o,p,r;typeof i=="undefined"&&(i=2);for(var w=[],h=[],b=[],c=0,l=0,r=0,a=i+1;r<a;r++){for(u=0,e=n.length;u<e;u++)n[u][1]!=null&&(c+=Math.pow(n[u][0],r)*n[u][1]);for(w.push(c),c=0,v=[],s=0;s<a;s++){for(u=0,e=n.length;u<e;u++)n[u][1]!=null&&(l+=Math.pow(n[u][0],r+s));v.push(l);l=0}h.push(v)}for(h.push(w),f=t(h,a),r=0,e=n.length;r<e;r++){for(y=0,o=0;o<f.length;o++)y+=f[o]*Math.pow(n[r][0],o);b.push([n[r][0],y])}for(p="y = ",r=f.length-1;r>=0;r--)p+=r>1?Math.round(f[r]*Math.pow(10,r))/Math.pow(10,r)+"x^"+r+" + ":r==1?Math.round(f[r]*100)/100+"x + ":Math.round(f[r]*100)/100;return{equation:f,points:b,string:p}},lastvalue:function(n){for(var r=[],i=null,t=0;t<n.length;t++)n[t][1]?(i=n[t][1],r.push([n[t][0],n[t][1]])):r.push([n[t][0],i]);return{equation:[i],points:r,string:""+i}}},n=function(n,t,r){if(typeof n=="string")return i[n](t,r)};typeof exports!="undefined"?module.exports=n:window.regression=n})();
//# sourceMappingURL=regression.min.js.map
